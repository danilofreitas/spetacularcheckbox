(function(t,e){"use strict";"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var o={init:function(e,o){var c=this;c.$elem=t(o),c.options=t.extend({},t.fn.spectacularCheckbox.options,c.$elem.data(),e),c.manager=t.fn.spectacularCheckbox.manager,c.userOptions=e,c.makeCheckbox()},makeCheckbox:function(){var o=this;o.createButton(),o.options.typehead&&o.createTypeHead(),o.options.actionButton&&o.createActionButton(),t(e).keyup(function(e){27===e.keyCode&&t(".spetacular-checkbox-toggle-button",o.$elem).hasClass("active")&&o.closeSelect()})},closeSelect:function(){var e=this,o=t(".spetacular-checkbox-toggle-button",e.$elem);o.hasClass("active")&&(o.removeClass("active"),t(".wrap-spetacular-checkbox",e.$elem).hide())},showSelect:function(){var e=this,o=t(".spetacular-checkbox-toggle-button",e.$elem);e.manager.closeAll(e.$elem),o.hasClass("active")||(o.addClass("active"),t(".wrap-spetacular-checkbox",e.$elem).show())},toggleSelect:function(){var e=this,o=t(".spetacular-checkbox-toggle-button",e.$elem);o.hasClass("active")?e.closeSelect():e.showSelect()},createButton:function(){var e=this;e.$elem.prepend("<button type='button' class='spetacular-checkbox-toggle-button "+e.options.buttonClass+"'>"+e.options.buttonContent+"</button>"),t(".spetacular-checkbox-toggle-button",e.$elem).click(function(){e.toggleSelect()})},createTypeHead:function(){var e=this;t(".wrap-spetacular-checkbox",e.$elem).prepend("<input type='text' class='typehead-field "+e.options.typeheadClass+"' placeholder='"+e.options.typeheadPlaceholder+"'>"),t(".typehead-field",e.$elem).keyup(function(){e.matchCheckBox(t(this).val())})},matchCheckBox:function(e){var o,c=this;o=RegExp(e.split("").join("\\w*").replace(/\W/,""),"i"),t(".checkbox label",c.$elem).each(function(){var e=t(this).text();console.log(e.match(o)),e.match(o)||t("input",this).is(":checked")?t(this).parent().show():t(this).parent().hide()})},createActionButton:function(){var e,o=this;t(".wrap-spetacular-checkbox",o.$elem).append("<button type='"+o.options.actionButtonType+"' class='spetacular-checkbox-action-button "+o.options.actionButtonClass+"' "+(o.options.actionButtonId?"id='"+o.options.actionButtonId+"'":"")+">"+o.options.actionButtonContent+"</button>"),e=t(".spetacular-checkbox-action-button",o.$elem),e.click(function(){o.closeSelect()})}};t.fn.spectacularCheckbox=function(e){return this.each(function(){if(t(this).data("owl-init")===!0)return!1;t(this).data("owl-init",!0);var c=Object.create(o);c.init(e,this),t.data(this,"spectacularCheckbox",c)})},t.fn.spectacularCheckbox.options={buttonContent:"This is a fake",buttonClass:"btn btn-default",typehead:!1,typeheadPlaceholder:"",typeheadClass:"",actionButton:!1,actionButtonType:"button",actionButtonContent:"OK",actionButtonId:!1,actionButtonClass:""},t.fn.spectacularCheckbox.manager={closeAll:function(e){console.log(t(".spetacular-checkbox-toggle-button",e));var o=t(".spetacular-checkbox-toggle-button").not(t(".spetacular-checkbox-toggle-button",e));o.hasClass("active")&&(o.removeClass("active"),t(".wrap-spetacular-checkbox").not(t(".wrap-spetacular-checkbox",e)).hide())}}})(jQuery,document);